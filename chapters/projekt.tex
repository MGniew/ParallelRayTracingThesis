\section{Projekt klastra}

	Napisz coś mądrego + schemat
	
	\subsection{Master} Opisz co ma robić master
	\subsection{Slave} Opisz co ma robić slave
\section{Projekt programu}

	Tu napisz co to ma robić
	
	\subsection{Diagram klas}
	
	Poniżej przedstawiono uproszczony diagram klas. Ze względu estetycznych, opis poszczególnych z nich znajduje się w kolejnym podrozdziale. wstaw grafikę
	
	
	\subsection{Opis klas}

\begin{longtable}{|p{16cm}|}
	\caption{BoundingBox} \label{tab:BoundingBox} \\ \hline
	\multicolumn{1}{|c|}{BoundingBox} \\ \hline
    +minX : float \\
    +maxX : float \\
    +minY : float \\
    +maxY : float \\
    +minZ : float \\
    +maxZ : float \\ \hline
    +intersect(start: Vector3, dir: Vector3 \\ \hline
\end{longtable}


\begin{longtable}{|p{16cm}|}
	\caption{BSP} \label{tab:BSP} \\ \hline
	\multicolumn{1}{|c|}{BSP} \\ \hline
    +tree : node* \\
    -polygons : SceneObject* \\
    -box : BoundingBox \\ \hline
    +build(root : node*, polygons : SceneObject*, depth : int) \\ 
	-getBestPlane(polygons : list$<$SceneObject*$>$) : Plane \\
	+getClosest(cross : Vector3, start : Vector3, dir : Vector3) : SceneObject* \\
	+isInShadow(cross : Vector3, dir : Vector3, light : Vector3) : bool \\
	-getBoundingBox(polygons : list$<$SceneObject*$>$) : BoundingBox \\
	-intersect(root : node*, cross : Vector3, start : Vector3, dir : Vector3) : SceneObject* \\
	-deleteTree(root : node*) : void \\
    \hline
\end{longtable}

\begin{longtable}{|p{16cm}|}
    \caption{Node} \label{tab:Node} \\ \hline
    \multicolumn{1}{|c|}{Node} \\ \hline
    partitionPlane : Plane \\
    polygons : list$<$SceneObject*$>$ \\
    front : node*  \\
    back : node*  \\ \hline
\end{longtable}



\begin{longtable}{|p{16cm}|}
    \caption{GLwidget} \label{tab:GLwidget} \\ \hline
    \multicolumn{1}{|c|}{GLwidget} \\ \hline
    scene : Scene*  \\ \hline
    initializeGL() : void \\ 
    resizeGL(int w, int h) : void \\
    paintGL() : void \\ \hline
\end{longtable}

\begin{longtable}{|p{16cm}|}
    \caption{FileLoader} \label{tab:FileLoader} \\ \hline
    \multicolumn{1}{|c|}{FileLoader} \\ \hline
    -readCameraSettings(line : char const*) : bool \\
    -readSceneSettings(line : char const*) : bool \\
    -readSphere(line : char const*) : bool \\
    -readLight(line : char const*) : bool \\
    -readTriangle(line : char const*) : bool \\
    -readObj(line : char const*) : bool \\
	+ReadFile(fname : char const*) : bool \\ \hline
\end{longtable}


\begin{longtable}{|p{16cm}|}
    \caption{InputParser} \label{tab:InputParser} \\ \hline
    \multicolumn{1}{|c|}{InputParser} \\ \hline
    tokens : vector$<$string$>$  \\ \hline
    +getCmdOption(option : string const) : string const) \\
    +cmdOptionExists(option : string const) : bool \\ \hline
\end{longtable}


\begin{longtable}{|p{16cm}|}
    \caption{Light} \label{tab:Light} \\ \hline
    \multicolumn{1}{|c|}{Light} \\ \hline
    +pos : Vector3* \\ 
    +amb : Vector3* \\
    +dif : Vector3* \\
    +spec : Vector3* \\
    \hline
	+serialize(bytes : vector$<$char$>$*) : void \\ 
	+deserialize(bytes : vector$<$char$>$ const) : void \\
	+getType() : char \\
	\hline
\end{longtable}


\begin{longtable}{|p{16cm}|}
    \caption{MainWindow} \label{tab:MainWindow} \\ \hline
    \multicolumn{1}{|c|}{MainWindow} \\ \hline
    ui : MainWindow* \\
    statisticWindow : StatisticsWindow* \\
    masterThread : MasterThread* \ \
    statusLabel : QLabel* \\ \hline
    createMaster() \\
    ShowStats() \\
    setSpeed(double time) \\
    on\_actionStatistics\_triggered() \\
    onQuit(); \\ \hline
\end{longtable}


\begin{longtable}{|p{16cm}|}
    \caption{MasterThread} \label{tab:MasterThread} \\ \hline
    \multicolumn{1}{|c|}{MasterThread} \\ \hline
    isAlive : bool \\
    camera : Camera* \\
    scene : Scene* \\
    processSpeed : double** \\
    worldSize : int \\
    status : MPI\_Status \\
    names : vector$<$string$>$ \\
    pending : int \\
    numChunks : int \\
    queue : queue$<$Chunk$>$ \\
    test : int \\
    \hline
	run() \\
	splitToChunks(int num) \\
	clearQueue(queue$<$Chunk$>$ q) \\
    sendCameraBcast() \\
    sendCameraPointToPoint() \\
    sendScene() \\
    sendDepth(int depth) \\
    sendNextChunk(int dest) \\
    sendExitSignal() \\
    recvPixels(MPI\_Status stat) : int \\
    recvMessage() : int \\
    finishPending() \\
    updateProcessSpeed() \\
    waitUntillRdy() \\
    printResult(double spf, double bsp) \\
    getNames() \\
    emitNames() \\
	\hline
\end{longtable}


\begin{longtable}{|p{16cm}|}
    \caption{Chunk} \label{tab:Chunk} \\ \hline
    \multicolumn{1}{|c|}{Chunk} \\ \hline
    startx : int \\
    stopx : int \\
    starty : int \\
    stopy : int \\
    \hline
\end{longtable}


\begin{longtable}{|p{16cm}|}
    \caption{Pixels} \label{tab:Pixels} \\ \hline
    \multicolumn{1}{|c|}{Pixels} \\ \hline
    +data : unsigned char* \\
    +x : int \\
    +y : int \\ 
    +startx : int \\
    +starty : int \\
    \hline
	+serialize(bytes : vector$<$char$>$*) : void \\
	+deserialize(bytes : vector$<$char$>$ const) : void \\
	+getType() : char \\
	+setStartXY(x : int, y : int) : void \\
	+setPixel(posX : int, posY : int, vec : Vector3) : void \\
	\hline
\end{longtable}

\begin{longtable}{|p{16cm}|}
    \caption{Plane} \label{tab:Plane} \\ \hline
    \multicolumn{1}{|c|}{Plane} \\ \hline
    +a : float \\ 
    +b : float \\
    +c : float \\
    +d : float \\
    \hline
	Spis metod \\ 
	+classifyObject(obj : SceneObject*) : int \\
	+classifyPoint(point : Vector3*) : int \\
	+getDistToPoint(point : Vector3*) : float \\
	+rayIntersectPlane(startingPoint : Vector3, directionVector : Vector3) : bool \\
	+getNormal() : Vector3 \\
	+isValid() : bool \\
	\hline
\end{longtable}

\begin{longtable}{|p{16cm}|}
    \caption{RayTracer} \label{tab:RayTracer} \\ \hline
    \multicolumn{1}{|c|}{RayTracer} \\ \hline
    +camera : Camera* \\
    +scene : Scene* \\
    +buffer : Vector3*** \\ \hline
	+basicRayTracer() : void \\
	+recursiveRayTracer(depth : int) : void \\
	+getColorRecursive(startPoint : Vector3, directionVector : Vector3, depth : int) : Vector3 \\
	\hline
\end{longtable}

\begin{longtable}{|p{16cm}|}
    \caption{Scene} \label{tab:Scene} \\ \hline
    \multicolumn{1}{|c|}{Scene} \\ \hline
    +numOfLights : int \\
    +numOfObjects : int \\
    +useShadows : bool \\
    +useBSP : bool \\
    +instance : Scene* \\
    +lights : Light** \\
    +sceneObjects : SceneObject** \\
    +pixels : Pixels* \\
    +backgroundColor : Vector3* \\
    +globalAmbient : Vector3* \\
    +bsp : BSP* \\
    \hline
	+getInstance() : Scene * \\
	+buildBSP(depth : int) : void \\
	+addObject(sceneObject : SceneObject*) : void \\
	+addLight(light : Light*) : void \\
	+setUpPixels(x : int, y : int) : void \\
	+getClosest(crossPoint : Vector3, startPoint : Vector3, directionVector : Vector3) : SceneObject * \\
	+isInShadow(crossPoint : Vector3, directionVector : Vector3, lightPos : Vector3) : bool \\
	+setPixelColor(x : int, y : int, color : Vector3) : void \\
	+serialize(bytes : vector$<$char$>$*) : void \\
	+deserialize(bytes : vector$<$char$>$ const) : void \\
	+getType() : char \\
	\hline
\end{longtable}

\begin{longtable}{|p{16cm}|}
    \caption{SceneObject} \label{tab:SceneObject} \\ \hline
    \multicolumn{1}{|c|}{SceneObject} \\ \hline
    \#specShin : float \\
    \#transparency : float \\
    \#mirror : float \\
    \#local : float \\
    \#density : float \\
    \#amb : Vector3* \\
    \#dif : Vector3* \\
    \#spec : Vector3* \\
    \hline
	+getLocalColor(normalVector : Vector3, crossPoint : Vector3, observationVector : Vector3) : Vector3 \\
	+trace(crossPoint : Vector3, startPoint : Vector3, directionVector : Vector3, dist : float) : bool \\
	+getNormalVector(crossPoint : Vector3) : Vector3 \\
	+getBoundingBox() : BoundingBox \\
	\hline
\end{longtable}

\begin{longtable}{|p{16cm}|}
    \caption{Serializable} \label{tab:Serializable} \\ \hline
    \multicolumn{1}{|c|}{Serializable} \\ \hline
    +serializedSize : int \\ \hline
	+serialize(bytes : vector$<$char$>$*) : void \\ 
	+deserialize(bytes : vector$<$char$>$ const) : void \\
	+getType() : char \\
	\hline
\end{longtable}

\begin{longtable}{|p{16cm}|}
    \caption{SlaveMPI} \label{tab:SlaveMPI} \\ \hline
    \multicolumn{1}{|c|}{SlaveMPI} \\ \hline
    +x : int \\ 
	+y : int \\
	+depth : int \\
	+status : MPI\_Status \\
	+pixels : Vector3*** \\
	+camera : Camera* \\
	+scene : Scene* \\ \hline
	+exec() : int \\
	+recvCameraBcast() : void \\
	+recvCameraPointToPoint() : void \\
	+recvScene() : void \\
	+recvDepth() : void \\
	+recvChunk() : void \\
	+recvMessage() : int \\
	+sendPixels() : void \\
	+sendName() : void \\
	+sendRdy() : void \\
	\hline
\end{longtable}

\begin{longtable}{|p{16cm}|}
    \caption{StatisticsWindow} \label{tab:StatisticsWindow} \\ \hline
    \multicolumn{1}{|c|}{StatisticsWindow} \\ \hline
    Ui::StatisticsWindow *ui; \\
    int worldSize; \\
    \hline
	void resizeEvent(QResizeEvent *event); \\
    void setTime(double time); \\
    void setChunks(int i); \\
    void setXY(int x, int y); \\
    void setObj(int i); \\
    void setLights(int i); \\
    void setProccessName(int num, QString str); \\
    void setProccessSpeed(double **speed); \\
    void setUpList(); \\
    \hline
\end{longtable}


TINY OBJECTY LOADER!!!!!!!!!

\begin{longtable}{|p{16cm}|}
    \caption{Sphere} \label{tab:Sphere} \\ \hline
    \multicolumn{1}{|c|}{Sphere} \\ \hline
    +radius : float \\
    +pos : Vector3* \\
    \hline
\end{longtable}


\begin{longtable}{|p{16cm}|}
    \caption{Triangle} \label{tab:Triangle} \\ \hline
    \multicolumn{1}{|c|}{Triangle} \\ \hline
    +pointA : Vector3* \\
    +pointB : Vector3* \\
    +pointC : Vector3* \\
    +normalA : Vector3* \\
    +normalB : Vector3* \\
    +normalC : Vector3* \\
    \hline
	+split(plane : Plane, front : list$<$Triangle*$>$, back : list$<$Triangle*$>$) : void \\ 
	+getPointbyNum(a : int) : Vector3 * \\
	+getPlanes() : list$<$Plane$>$ \\
	+getPerpendicularPlane(i : int) : Plane \\
	+getPlane() : Plane \\
	+Area(a : Vector3, b : Vector3) : float \\
	+getBoundingBox() : BoundingBox \\
	\hline
\end{longtable}


\begin{longtable}{|p{16cm}|}
    \caption{Vector3} \label{tab:Vector3} \\ \hline
    \multicolumn{1}{|c|}{Vector3} \\ \hline
    +x : type \\
    +y : type \\
    +z : type \\
     \hline
	+normalize() : Vector3 \\ 
	+scalarProduct(v : Vector3) : float \\
	+vectorProduct(v : Vector3) : Vector3 \\
	+rotateX(alpha : float) : void \\
	+rotateY(alpha : float) : void \\
	+rotateZ(alpha : float) : void \\
	+distanceFrom(v : Vector3) : float \\
	+powDistanceFrom(v : Vector3) : float \\
	+reflect(n : Vector3) : Vector3 \\
	+refract(normalVector : Vector3, a : float, b : float) : Vector3 \\
	+isZeroVector() : bool \\
	+length() : float \\
	\hline
\end{longtable}


